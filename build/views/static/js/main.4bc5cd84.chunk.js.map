{"version":3,"sources":["components/Pagination/Pagination.module.css","store/actions/actionTypes.js","store/reducers/reducer.js","store/reducers/rootReducer.js","store/store.js","store/actions/actionsCreators.js","components/LeaderboardItem/LeaderboardItem.js","components/LeaderboardList/LeaderboardList.js","components/Pagination/Pagination.js","components/Leaderboard/Leaderboard.js","App.js","index.js"],"names":["module","exports","FETCH_DATA_REQ","FETCH_DATA_SUCCESS","FETCH_DATA_ERROR","initialState","loading","data","error","page","reducer","state","action","type","payload","rootReducer","combineReducers","leaderboard","store","createStore","applyMiddleware","thunk","fetchData","fetchDataSuccess","fetchDataError","err","LeaderboardItem","item","onChangeHandler","e","value","target","innerText","_id","parentElement","id","key","dataset","tag","axios","post","then","response","console","log","contentEditable","onBlur","suppressContentEditableWarning","Rank","Name","Platform","Year","Genre","Publisher","Global_Sales","Header","sortHandler","sortedOn","sortedBy","append","toLowerCase","onClick","LeaderboardList","sortBy","sortOn","map","header","d","Pagination","nextPageHandler","previousPageHandler","className","classes","pagination","timer","connect","dispatch","sort","get","catch","message","fetchLeaderboard","useState","setPage","setSortBy","setSortOn","useEffect","setInterval","clearInterval","src","width","length","prev","prevPage","App","style","color","href","rel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4bc5cd84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3W4p4\"};","export const FETCH_DATA_REQ = \"FETCH_DATA_REQ\";\r\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\r\nexport const FETCH_DATA_ERROR = \"FETCH_DATA_ERROR\";\r\n","import {\r\n  FETCH_DATA_REQ,\r\n  FETCH_DATA_SUCCESS,\r\n  FETCH_DATA_ERROR,\r\n} from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: \"\",\r\n  page: 1,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_DATA_REQ: {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n    case FETCH_DATA_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        data: action.payload,\r\n        error: \"\",\r\n      };\r\n    }\r\n    case FETCH_DATA_ERROR: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        data: [],\r\n        error: action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport reducer from \"./reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  leaderboard: reducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from \"./reducers/rootReducer\";\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import {\r\n  FETCH_DATA_REQ,\r\n  FETCH_DATA_SUCCESS,\r\n  FETCH_DATA_ERROR,\r\n} from \"./actionTypes\";\r\nimport axios from \"axios\";\r\n\r\nexport const fetchData = () => {\r\n  return {\r\n    type: FETCH_DATA_REQ,\r\n  };\r\n};\r\n\r\nexport const fetchDataSuccess = (data) => {\r\n  return {\r\n    type: FETCH_DATA_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const fetchDataError = (err) => {\r\n  return {\r\n    type: FETCH_DATA_ERROR,\r\n    payload: err,\r\n  };\r\n};\r\n\r\nexport const fetchLeaderboard = (page = 1, sort = \"asc\", sortOn = \"Rank\") => {\r\n  return (dispatch) => {\r\n    dispatch(fetchData);\r\n    axios\r\n      .get(\r\n        `http://localhost:4000/api/leaderboard?page=${page}&sortBy=${sort}&sortOn=${sortOn}`\r\n      )\r\n      .then((response) => {\r\n        const data = response.data;\r\n        dispatch(fetchDataSuccess(data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(fetchDataError(err.message));\r\n      });\r\n  };\r\n};\r\n","import axios from \"axios\";\r\nconst LeaderboardItem = ({ item }) => {\r\n  const onChangeHandler = (e) => {\r\n    const value = e.target.innerText;\r\n    const _id = e.target.parentElement.id;\r\n    const key = e.target.dataset.tag;\r\n    axios\r\n      .post(\"http://localhost:4000/api/leaderboard/update\", { key, value, _id })\r\n      .then((response) => {\r\n        console.log(response);\r\n      });\r\n  };\r\n  return (\r\n    <tr id={item._id}>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Rank\"\r\n      >\r\n        {item.Rank}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Name\"\r\n      >\r\n        {item.Name}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Platform\"\r\n      >\r\n        {item.Platform}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Year\"\r\n      >\r\n        {item.Year}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Genre\"\r\n      >\r\n        {item.Genre}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Publisher\"\r\n      >\r\n        {item.Publisher}\r\n      </td>\r\n      <td\r\n        contentEditable\r\n        onBlur={onChangeHandler}\r\n        suppressContentEditableWarning={true}\r\n        data-tag=\"Global_Sales\"\r\n      >\r\n        {item.Global_Sales}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default LeaderboardItem;\r\n","import LeaderboardItem from \"../LeaderboardItem/LeaderboardItem\";\r\n\r\nconst Header = ({ id, sortHandler, sortedOn, sortedBy }) => {\r\n  let append = \"\";\r\n  if (id.toLowerCase() === sortedOn.toLowerCase()) {\r\n    if (sortedBy === \"asc\") append = \"🔼\";\r\n    else append = \"🔽\";\r\n  }\r\n  return (\r\n    <th onClick={() => sortHandler(id)}>\r\n      {id}\r\n      {append}\r\n    </th>\r\n  );\r\n};\r\n\r\nconst LeaderboardList = ({ data, sortHandler, sortBy, sortOn }) => {\r\n  const headers = [\r\n    \"Rank\",\r\n    \"Name\",\r\n    \"Platform\",\r\n    \"Year\",\r\n    \"Genre\",\r\n    \"Publisher\",\r\n    \"Global_Sales\",\r\n  ];\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          {headers.map((header) => (\r\n            <Header\r\n              key={header}\r\n              id={header}\r\n              sortHandler={sortHandler}\r\n              sortedOn={sortOn}\r\n              sortedBy={sortBy}\r\n            />\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {data.map((d) => (\r\n          <LeaderboardItem key={d._id} item={d} />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default LeaderboardList;\r\n","import classes from \"./Pagination.module.css\";\r\n\r\nconst Pagination = ({ page, nextPageHandler, previousPageHandler }) => {\r\n  return (\r\n    <div className={classes.pagination}>\r\n      <span onClick={previousPageHandler}>❮ </span>\r\n      <span>{page}</span>\r\n      <span onClick={nextPageHandler}> ❯</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { useEffect, useState } from \"react\";\r\nimport { fetchLeaderboard } from \"../../store/actions/actionsCreators\";\r\nimport { connect } from \"react-redux\";\r\nimport LeaderboardList from \"../LeaderboardList/LeaderboardList\";\r\nimport Pagination from \"../Pagination/Pagination\";\r\n\r\nlet timer = null;\r\n\r\nconst Leaderboard = ({ loading, error, data, fetchData }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [sortBy, setSortBy] = useState(\"asc\");\r\n  const [sortOn, setSortOn] = useState(\"Rank\");\r\n\r\n  const onNextPage = () => {\r\n    setPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const onPreviousPage = () => {\r\n    if (page >= 2) {\r\n      setPage((prevPage) => prevPage - 1);\r\n    }\r\n  };\r\n\r\n  const onSort = (sort) => {\r\n    setSortBy((prev) => {\r\n      if (prev === \"asc\") return \"desc\";\r\n      if (prev === \"desc\") return \"asc\";\r\n    });\r\n    setSortOn(sort);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData(page, sortBy, sortOn);\r\n  }, [page, sortBy, sortOn]);\r\n\r\n  useEffect(() => {\r\n    timer = setInterval(() => {\r\n      fetchData(page, sortBy, sortOn);\r\n    }, 2500);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [page, sortBy, sortOn]);\r\n\r\n  if (loading) {\r\n    return <h2>Loading</h2>;\r\n  }\r\n  return (\r\n    <div className=\"container accented\">\r\n      <h2>\r\n        <em>\r\n          <img src=\"/leaderboard.png\" width=\"32\"></img> &nbsp;&nbsp;Leaderboard\r\n        </em>\r\n      </h2>\r\n      {!data.length ? (\r\n        <>\r\n          <h3>No Data to show</h3>\r\n          <span>\r\n            Can you try hitting endpoint /api/leaderboard/import (this would\r\n            dump json into db)\r\n          </span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <LeaderboardList\r\n            data={data}\r\n            sortHandler={onSort}\r\n            sortBy={sortBy}\r\n            sortOn={sortOn}\r\n          />\r\n          <Pagination\r\n            page={page}\r\n            nextPageHandler={onNextPage}\r\n            previousPageHandler={onPreviousPage}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    page: state.leaderboard.page,\r\n    loading: state.leaderboard.loading,\r\n    error: state.leaderboard.error,\r\n    data: state.leaderboard.data,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchData: (page, sortBy, sortOn) =>\r\n      dispatch(fetchLeaderboard(page, sortBy, sortOn)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Leaderboard);\r\n","import \"./App.css\";\r\n\r\nimport Leaderboard from \"./components/Leaderboard/Leaderboard\";\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <Leaderboard />\r\n      <div className=\"stack-info\">\r\n        <h3>\r\n          Tech <span style={{ color: \"yellowgreen\" }}>Stack</span>\r\n        </h3>\r\n        <span>REACT, NODE, MONGO</span>\r\n      </div>\r\n      <div>\r\n        <h3>\r\n          Features <span style={{ color: \"yellowgreen\" }}>implemented</span>\r\n        </h3>\r\n        <ul>\r\n          <li>Realtime leaderboard</li>\r\n          <li>\r\n            Rest API based backend architecture (Endpoints at /api/leaderboard)\r\n          </li>\r\n          <li>\r\n            Dumping/Importing provided{\" \"}\r\n            <a\r\n              href=\"https://s3-ap-southeast-1.amazonaws.com/he-public-data/TopSellingGamesbb1c49e.json\"\r\n              rel=\"noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              json\r\n            </a>{\" \"}\r\n            into mongo directly by hitting endpoint /api/leaderboard/import\r\n            (this imports the json from aws and dumps into mongo collection)\r\n          </li>\r\n          <li>\r\n            Editable cells (User can click on any cells to edit, on clicking\r\n            outside would result in value persistence to db)\r\n          </li>\r\n          <li>\r\n            Sorting - Each Column can be sorted by ascending/descending (Click\r\n            on the header column)\r\n          </li>\r\n          <li>\r\n            Pagination - (User can click through next & previous to go back and\r\n            forth)\r\n          </li>\r\n          <li>Deployment of build on Free-tier hosting provider (HEROKU)</li>\r\n        </ul>\r\n        <h3>\r\n          Features <span style={{ color: \"red\" }}>not implemented</span> due to\r\n          time-limit\r\n        </h3>\r\n        <ul>\r\n          <li>Search functionality</li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"stack-info\">\r\n        <h3>\r\n          Developed by{\" \"}\r\n          <a\r\n            href=\"https://www.linkedin.com/in/rushabh-wadkar/\"\r\n            rel=\"noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            Rushabh Wadkar\r\n          </a>\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\n\r\n// Importing components\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}